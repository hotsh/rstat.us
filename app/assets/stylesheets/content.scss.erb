@import "lib/base.css.scss";
/* ****************************** */
/* Avatars */
/* ****************************** */
.avatar {
  img {
    background: url('<%= asset_path RstatUs::DEFAULT_AVATAR %>') no-repeat;
    width: 48px;
    height: 48px;
  }
}

/* ****************************** */
/* Updates Navigation */
/* ****************************** */
#updates-menu-wrap {
  position: relative;
  @include clearfix;
  margin-bottom: -1px;
}

#updates-menu-background {
  margin: 5px 5px 0 5px;
  -webkit-box-shadow: 0px 0px 4px #bbb;
  float: left;
  background: url('<%= asset_path 'embed/nav-background.png' %>') center bottom repeat-x;
}

#updates-menu {
  @include clearfix;
  float: left;
  padding: 0 1em 0 1em;
  overflow: visible;
  border-bottom: 1px solid #ccc;

  li {
    @include clearfix;

    padding: 0.35em 1em 0.35em 0.5em;
    border-left: 1px solid #e5e5e5;
    border-right: 1px solid #f7f7f7;

    .icon {
      @include image_replaced('<%= asset_path 'icons_sprite.png' %>', 24px, 16px);
    }
    .icon, a {
      float: left;
    }
  }

  li.world .icon { background-position: 0 -48px;}
  li.replies .icon { background-position: 0 -64px;}
  li.timeline .icon { background-position: 0 -80px;}
  li.active.replies .icon { background-position: -24px -64px;}
  li.active.world .icon { background-position: -24px -48px;}
  li.active.timeline .icon { background-position: -24px -80px;}

  li:hover {
    background: #f9f9f9;
  }

  li.active {
    position: relative;
    -webkit-box-shadow: 0px 0px 10px #aaa;
    @include rounded(3px, 3px, 0, 0);
    background: white;
    margin: -0.35em 0 -0.1em 0;
    border-bottom: 1px solid white;

    padding: 0.5em 1em 0.5em 0.5em;
    a {
      font-weight: bold;
      color: black;
    }
  }

  li.active a:hover {
    text-decoration: none;
  }

  li:last-child {
    border-right: 1px solid #e5e5e5;
  }
}

/* ****************************** */
/* Updates List */
/* ****************************** */
.updates {
  .update {
    @include clearfix;
    position: relative;
    padding: 1em 1em 0.75em 6em;
  	border-bottom: solid 1px #efefef;

    .author{
      .avatar {
        position: absolute;
        top: 1em;
        left: 1em;
      }
      .fn, .nickname {
        a {
          color: $text_color;
        }
        a:hover {
          text-decoration: none;
        }
        font-weight: bold;
      }
    }

    .entry-content {
      padding-right: 3em;
      padding-bottom: 0.35em;
      word-wrap: break-word;
      font-size: 1.1em;
    }

    .info {
      float: left;
    }

    .actions {
      display: none;
    }

    &:hover .actions {
      display: block;
    }
  }

  .mention {
    background: $mention;
  }
  .mine {
    background: $highlight;
  }
  .empty {
    text-align: center;
    font-size: 1.35em;
    padding: 1em;
    color: #bbb;
  }
}

.update {
  .actions, .published, .in-reply {
  	font-size: 0.9em;
  	color: #aaa;
    line-height: 2em;
    margin-left: 0.3em;
  }

  .actions {
    float: right;

    form {
      margin: 0;
    }
    .remove-update {
      cursor: pointer;
      float: right;
      border: none;
      @include image-replaced('<%= asset_path 'embed/trash.png' %>', 13px, 16px)
    }
  }
}

/* ****************************** */
/* Single Update  */
/* ****************************** */
#single-update {
  #page {
    padding-bottom: 2em;
  }
  .update {
    @include clearfix;
    .byline {
      @include column(4);
      padding-top: 2.25em;
      text-align: right;

      a {
        color: black;
      }
    }
    .update-text {

      @include content_block;
      @include column(13);
      @include clearfix;

      .content {
        font-size: 2em;
        padding-bottom: 6px;
        border-bottom: 1px solid #f3f3f3;
        margin-bottom: 12px;
      }

      .update-date {
        color: #999;
        float: left;
      }
      .end-links {
        float: right;
      }
    }
  }

  .reply {
    .title {
      @include prepend(4);
      margin-left: 2em;
      color: #777;
    }
    .update {
      .content {
        color: #999;
        font-size: 1.2em;
        padding-top: 0.25em;
      }
    }
  }

  #footer {
    a {
      color: #999;
    }
  }
}



/* ****************************** */
/* Profile */
/* ****************************** */
#profile {
  padding: 1em;
  @include clearfix;
  position: relative;

  #users ul.single li.user {
    list-style-type: none;
  }

  h3.fn {
    margin-bottom: 0.25em;
  }

  .follow-wrap {
    position: absolute;
    top: 1em;
    right: 1.5em;
    div {
      text-align: right;
    }
    #follow {
      form {
        margin-bottom: 0;
      }
    }
  }

  .stats {
    padding-top: 1em;
    @include column(4);
    @include last;
  }

  .info {
    @include column(8);
    padding: 1em 0;
    margin-right: $gutter_width * 2;
    .website {
      padding-bottom: 1em;
    }
  }
}
#current_user_block, #profile {
  .stats {
    color: $text_color + #222;
    padding-top: 1em;
    font-weight: bold;
    margin-right: 10px;
    padding-top: 1em;

    li {
      list-style-type: none;
      padding-bottom: 0.45em;
      border-bottom: 1px solid #ccc;
      margin-bottom: 0.45em;
      font-size: 0.9em;

      a {
        display: block;
        color: $text_color + #222;
        &:hover {
          text-decoration: none;
          background-color: #f9f9f9;
        }
      }

      .number {
        color: #439FC3;
        font-size: 1.3em;
        padding-right: 0.25em;
      }

      .icon {
        float: left;
        margin-top: 2px;
        margin-right: 0.5em;
        @include image_replaced('<%= asset_path 'icons_sprite.png' %>', 24px, 16px);
      }

      &.rss {
        line-height: 2;

        .icon {
          @include image_replaced('<%= asset_path 'feed-icon-16x16.png' %>', 16px, 16px);
          margin-left: 4px;
          margin-right: 10px;
        }
      }
    }

    .following-count .icon {
      background-position: 0 -16px;
    }
    .follower-count .icon {
      background-position: 0 -32px;
    }
    .last {
      border: none;
    }
  }
}
#current_user_block {
  .stats {
    margin-right: 0;
  }
}
.bottom-block {
  @include content-block;
}

.avatar {
  .avatar-management {
    @include clearfix;
    img {
      vertical-align: middle;
    }
    .description {
      margin-left: 10px;
    }
    form {
      float: right;
      margin-top: 7px;
      margin-bottom: 0;
    }
    .button {
      float: right;
      margin-top: 7px;
    }
  }
}

.linked-accounts {
  .linked {
    @include clearfix;
    .linked-image {
      float: left;
    }
    .linked-name {
      float: left;
      padding-top: 0.7em;
      padding-left: 1em;
    }
    form {
      float: right;
      margin: 0;
    }
  }
}

.delete-account {
  .to_delete {
    @include clearfix;
  }
  a {
    float: right;
  }
}

.js #delete .delete_account_submit {
  display: none;
}

.no-js #delete a#delete_account {
  display: none;
}

.destructive_action:hover {
  background-color: #c88;
  color: #fff;
  border-color: #522;
}

/* ****************************** */
/* Sidebar */
/* ****************************** */
#current_user_block {
  @include clearfix;
  padding-bottom: 3em;
  .avatar, .user-info {
    float: left;
  }
  .avatar {
    padding-right: 1em;
    img {
      padding: 0.35em;
    }
  }

  .user-info {
    .name {
      margin-bottom: 0;
    }
  }
}

.block {
  .title {
    margin-bottom: 0.5em;
  }
}

/* ****************************** */
/* Users List */
/* ****************************** */
.user-list {
  margin-bottom: 1em;
  li {
    list-style-type: none;
    @include clearfix;

    .avatar, .info {
      float: left;
    }
    .info {
      @include column(8);
      padding: 0.5em 1em;
      .bio {
        color: $text_color + #333;
        font-size: 0.9em;
      }
    }
    .follow {
      float: right;
    }
    border-bottom: 1px solid #ddd;
    padding: 0.75em 1em 0.25em;
  }
}

#users-nav {
  text-align: center;
  margin-bottom: 1em;
  a {
    padding: 0 1px;
  }
}

/* ****************************** */
/* Log in */
/* ****************************** */
#login-services {
  @include clearfix;
  .login-service {
    float: left;
    p {
      @include column(4);
      margin-top: 0.5em;
      margin-bottom: 0;
    }
    a {
      padding: 0.65em 2em;
      margin-right: 1em;
    }
  }
}


